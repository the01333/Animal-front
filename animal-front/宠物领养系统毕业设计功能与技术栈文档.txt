# 宠物领养系统毕业设计功能与技术栈文档（最终完整版）

## 一、 项目概述

* **项目名称：** 宠物领养系统
* **实现目标：** 构建一个功能完善、流程清晰的宠物领养平台，连接待领养宠物与爱心领养者。系统具备先进的实时通讯和智能问答能力，并采用高性能的技术架构。
* **技术架构：** 采用经典的前后端分离架构。
* **核心技术栈：**
    * **后端：** SpringBoot 3 + MyBatis-Plus + Sa-Token + Redis + Spring WebSocket + Spring AI
    * **前端：** Vue 3 (Composition API)

## 二、 技术栈选型

| 层面 | 技术栈 | 版本/框架 | 描述 |
| :--- | :--- | :--- | :--- |
| **后端核心** | Java | 17+ | 现代 Java 开发基础。 |
| **后端框架** | SpringBoot | 3.x | 快速构建 Spring 应用，简化配置。 |
| **持久层** | **MyBatis-Plus** | 最新稳定版 | **（优化）** 简化 MyBatis 的 CRUD 操作，提高开发效率。 |
| **数据库** | MySQL | 8.0+ | 关系型数据库，存储业务数据、聊天记录等。 |
| **缓存与存储** | **Redis** | 最新稳定版 | **（优化）** 用于 Sa-Token 存储、热点数据缓存、接口限流。 |
| **权限认证** | **Sa-Token** | 最新稳定版 | 轻量级权限认证框架，实现 JWT/Token 机制，可集成 Redis 提升性能。 |
| **实时通讯** | **Spring WebSocket** | - | 实现用户与管家之间的私聊。 |
| **智能问答** | **Spring AI** | 最新稳定版 | 接入大模型（LLM），实现智能客服功能。 |
| **前端框架** | Vue | 3.x (Composition API) | 前端核心框架。 |
| **状态管理** | Pinia | - | Vue 3 推荐的状态管理库。 |
| **UI 组件** | 组件库 | Element Plus / Ant Design Vue | 用于快速构建专业界面。 |

## 三、 系统功能模块设计

### A. 前台功能模块（领养者界面）

| 序号 | 模块名称 | 核心功能点列表 | 实现机制/备注 |
| :--- | :--- | :--- | :--- |
| **1** | **基础展示与搜索** | 首页推荐、宠物列表浏览、多条件筛选（种类、年龄、绝育状态）、关键词搜索、宠物详情页。 | RESTful API + Redis 缓存 |
| **2** | **用户认证与资料** | 注册、登录/登出（Sa-Token）、个人信息维护、领养者身份认证资料上传。 | Sa-Token + Redis |
| **3** | **领养申请流程** | 提交领养申请表、申请进度实时查询、撤销申请。 | RESTful API |
| **4** | **AI 智能客服** | **AI 问答入口**、复用聊天组件的问答界面、用户提问、AI 实时返回答案。 | **Spring AI + RESTful API** |
| **5** | **人工实时通讯** | **“联系管家”入口**、私聊聊天框、消息发送/接收、历史会话记录查看。 | **Spring WebSocket** |
| **6** | **内容与互动** | 领养指南/科普文章展示、成功领养故事、宠物收藏/关注。 | RESTful API |

### B. 后台功能模块（管理员界面）

| 序号 | 模块名称 | 核心功能点列表 | 实现机制/备注 |
| :--- | :--- | :--- | :--- |
| **1** | **仪表盘/数据概览** | 待办事项提醒（申请/未读消息）、关键业务指标统计（图表）。 | RESTful API |
| **2** | **宠物信息管理** | **CRUD操作**（新增、编辑、删除、上下架）、宠物健康/领养状态更新、图片管理。 | MyBatis-Plus + Sa-Token 权限 |
| **3** | **领养申请管理** | 申请列表查询、申请详情查看、**审核操作**（通过/驳回）、审核意见记录。 | RESTful API + Sa-Token 权限 |
| **4** | **用户与机构管理** | 领养者列表、身份信息查看、用户状态管理（禁用/激活）。 | RESTful API |
| **5** | **Sa-Token 权限管理** | **角色管理**（超级管理员、审核员、管家）、权限资源定义、用户-角色/权限分配。 | Sa-Token 核心管理 |
| **6** | **人工实时通讯管理** | **用户会话列表**（按未读/状态筛选）、**实时聊天界面**（与前台用户进行双向通讯）、会话标记（已处理/待跟进）。 | **Spring WebSocket** |
| **7** | **内容与系统配置** | 知识文章/公告的发布与管理、系统基本参数配置、操作日志查看。 | RESTful API |

## 四、 关键技术实现要点（重点）

### 1. 权限与认证 (Sa-Token + Redis)

* **高性能认证：** 使用 Sa-Token 结合 Redis 存储 Token 和权限数据，实现高效、可扩展的分布式 Session/登录状态管理。
* **路由保护：** 使用 Sa-Token 的注解对所有后端接口进行精细化权限控制。
* **角色设计：** 划分 `super_admin` (超级管理员)、`application_auditor` (审核员)、`housekeeper` (管家/客服) 等角色。

### 2. 持久层优化 (MyBatis-Plus)

* **开发效率：** 利用 MyBatis-Plus 的代码生成器和通用 CRUD 接口，大幅减少数据访问层的代码编写量。
* **数据访问：** 专注于 SQL 逻辑和业务实现，而非基础的数据库操作。

### 3. 实时通讯 (Spring WebSocket)

* **双向通信：** 利用 WebSocket 保持用户与管家之间的持久连接。
* **消息路由：** 后端维护 `用户ID $\leftrightarrow$ WebSocketSession` 的映射关系，实现精准的私聊消息推送。
* **安全集成：** 在 WebSocket 握手阶段，集成 Sa-Token 校验用户身份。

### 4. 智能问答 (Spring AI)

* **交互机制：** 采用 RESTful API 进行问答交互，与 WebSocket 机制隔离。
* **服务集成：** 利用 Spring AI 框架，统一配置和调用大模型服务。
* **专业知识增强（RAG，加分项）：** 考虑将领养规则等专业知识文档向量化，通过检索增强生成（RAG）技术提高 AI 回答的专业性和准确性。

### 5. 前端组件复用 (Vue 3)

* **通用聊天组件：** 设计一个可配置的通用聊天框组件，通过不同的输入参数（如会话类型：AI/人工管家），即可复用于 **AI 智能客服** 和 **人工实时通讯** 两个模块。